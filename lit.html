<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Themes and Literary Devices</title>
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/quotes.css">
    <style>
        body {
            margin: 0;
        }
        main {
            margin: 28px 100px;
        }

        img {
            max-width: 40%;
        }

        .quote {
            font-weight: bold;
        }

        .cover {
            width: 100%;
            height: 90vh;
            background-color: #1e1e1e;
            position: relative;
            border-bottom: 2px solid #333;
        }

        .tree {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .card {
            border: none;
            padding: 30px;
            margin: 30px 0;
            position: relative;
            background: linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }

        .quote-symbol {
            font-size: 5em;
            position: absolute;
            top: 0;
            left: 0;
            color: var(--accent-color);
            line-height: 0.8;
            opacity: 0.7;
        }
        .card .quote-symbol {
            top: 30px;
            left: 30px;
        }

        .quote-text {
            font-size: 1.4em;
            margin-left: 100px;
            font-style: italic;
            color: #333;
            line-height: 1.6;
        }

        .accordion {
            margin-top: 25px;
        }

        .accordion-summary {
            cursor: pointer;
            font-weight: bold;
            color: var(--accent-color);
            font-size: 1.1em;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
        }

        .accordion-summary:hover {
            color: var(--accent-hover);
        }

        .accordion-arrow {
            width: 12px;
            height: 12px;
            margin-right: 10px;
            transition: transform 0.6s ease;
            transform-origin: center;
        }

        .accordion-summary.open .accordion-arrow {
            transform: rotate(90deg);
        }

        .content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease, opacity 0.6s ease;
            opacity: 0;
            margin-top: 15px;
        }

        .content.open {
            opacity: 1;
        }
    </style>
</head>

<body>
    <div class="cover">
        <div class="tree">
            <svg id="tree-svg"></svg>
        </div>
    </div>
    <main>
        <h1>Themes</h1>
        <h2>The Meaning of Life</h2>
        <div style="position: relative;">
            <p class="quote">...so I marvel at you who exchange heaven for earth. I don’t want to understand you.</p>
        </div>
        <p>In "The Bet," the central question revolves around the meaning of life. The banker believes that life in prison is unbearable and that the lawyer will break, while the lawyer seeks to prove that spiritual freedom through knowledge is superior to material wealth. Through his 15 years of confinement, the lawyer discovers that life is ultimately meaningless, as he renounces the money, declares all worldly pursuits futile, and mocks the banker in his letter. From this theme, the true meaning may lie in intellectual and spiritual pursuits, yet even those can lead to disillusionment as shown by the lawyer's final letter.</p>
        <h2>Greed and Material Wealth</h2>
        <div style="position: relative;">
            <p class="quote">“Cursed bet!” muttered the old man, clutching his head in despair. “Why didn’t the man die? He is only forty now. He will take my last penny from me, he will marry, will enjoy life, will gamble on the Exchange; while I shall look at him with envy like a beggar... The one means of being saved from bankruptcy and disgrace is the death of that man!”</p>
        </div>
        <p>The theme of greed focuses more on the banker. The banker represents greed, driven by his desire to win the bet and preserve his fortune, even at the cost of the lawyer's life. He is materialistic and cynical. The banker's willingness to wager two million rubles on the lawyer's failure underscores his obsession with wealth and control, and the selected quote shows that this obsession can even lead to moral corruption and the act of murder.</p>
        <h2>Freedom and Imprisonment</h2>
        <div style="position: relative;">
            <p class="quote">It is true I have not seen the earth nor men, but in your books I have drunk fragrant wine, I have sung songs, I have hunted stags and wild boars in the forests, have loved women....</p>
        </div>
        <p>The story explores the paradox of freedom and imprisonment. Although the lawyer was physically imprisoned, he was still able to gain intellectual freedom from reading books, as shown in the quote. On the other hand, the banker is imprisoned by his greed and fear after losing in stocks. The lawyer's final letter reveals that true imprisonment is in the illusions of the world, while physical confinement can liberate the mind. This theme shows that freedom is not merely physical but also spiritual and intellectual. The lawyer's 15-year isolation allows him to bypass bodily constraints, yet this freedom imprisons him again when he realizes the emptiness of his pursuits spiritually.</p>

        <h1>Literary Devices</h1>
        <h2>Allusion to Jesus</h2>
        <div class="card">
            <p class="quote">Then after the tenth year, the prisoner sat immovably at the table and read nothing but the Gospel. It seemed strange to the banker that a man who in four years had mastered six hundred learned volumes should waste nearly a year over one thin book easy of comprehension.</p>
            <p class="quote">He was a skeleton with the skin drawn tight over his bones, with long curls like a woman’s and a shaggy beard.</p>
            <div class="accordion">
                <div class="accordion-summary" onclick="toggleAccordion(this)">
                    <svg class="accordion-arrow" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 2 L9 6 L3 10"></path>
                    </svg>
                    Analysis
                </div>
                <div class="content">
                    <p>The story alluded to Christianity in these two sections by mentioning the Gospel. In particular, the description of the lawyer's appearance in the second quote resembles the common description of Jesus Christ's image. This allusion relates the realization of the lawyer to the Christian concept of renouncing worldly pleasures and focusing instead on spiritual enlightenment out of life; it suggests that the story and Christian teachings have common ideas. By drawing this parallel, Chekhov emphasizes the lawyer's spiritual transformation through suffering, much like Christ's path to enlightenment.</p>
                </div>
            </div>
        </div>
        <h2>Metaphor</h2>
        <div class="card">
            <p class="quote">The geniuses of all ages and of all lands speak different languages, but the same flame burns in them all. Oh, if you only knew what unearthly happiness my soul feels now from being able to understand them!</p>
            <div class="accordion">
                <div class="accordion-summary" onclick="toggleAccordion(this)">
                    <svg class="accordion-arrow" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 2 L9 6 L3 10"></path>
                    </svg>
                    Analysis
                </div>
                <div class="content">
                    <p>In the first letter written by the lawyer, the lawyer metaphorically insists that the "same flame" burns inside all the geniuses who have ever existed. Here, the flame refers to artistic spirit and  demonstrates how the lawyer was able to experience "unearthly happiness" through books even while cut off from the outside world. It also shows how confinement may still include connections to the world, as the lawyer was still able to learn the languages in the world while in prison. Yet it is worth noting that the lawyer still lost interest in this at the end of the story. </p>
                </div>
            </div>
        </div>
        <h2>List of Three</h2>
        <div class="card">
            <p class="quote">And I despise your books, I despise wisdom and the blessings of this world. It is all worthless, fleeting, illusory, and deceptive, like a mirage.</p>
            <div class="accordion">
                <div class="accordion-summary" onclick="toggleAccordion(this)">
                    <svg class="accordion-arrow" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 2 L9 6 L3 10"></path>
                    </svg>
                    Analysis
                </div>
                <div class="content">
                    <p>In the letter to the banker, the lawyer described the blessings of the world as "worthless, fleeting, illusory, and deceptive". Here, the adjectives used to describe the nature of worldly pleasures act as emphasis on how the lawyer made a complete transformation on how he viewed life. This list of adjectives for emphasis shows the lawyer's complete rejection of materialism after 15 years in confinement, mirroring the story's philosophical conclusion about the emptiness of earthly pursuits.</p>
                </div>
            </div>
        </div>
    </main>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
        const svg = d3.select("#tree-svg");
        const width = 400;
        const height = 300;

        svg.attr("viewBox", `0 0 ${width} ${height}`)
            .attr("width", "100%")
            .attr("height", "100%");

        const nodes = [
            { id: "root", name: "The Bet" },
            { id: "child1", name: "The Meaning of Life" },
            { id: "child2", name: "Greed and Material Wealth" },
            { id: "child3", name: "Freedom and Imprisonment" }
        ];

        const links = [
            { source: "root", target: "child1" },
            { source: "root", target: "child2" },
            { source: "root", target: "child3" }
        ];

        const simulation = d3.forceSimulation(nodes)
            .force("link", d3.forceLink(links).id(d => d.id).distance(100))
            .force("charge", d3.forceManyBody().strength(-300))
            .force("center", d3.forceCenter(width / 2, height / 2));

        // Lock the root node in the center
        nodes[0].fx = width / 2;
        nodes[0].fy = height / 2;

        // Draw links
        const link = svg.selectAll("line")
            .data(links)
            .enter()
            .append("line")
            .attr("stroke", "#555")
            .attr("stroke-width", 2);

        // Draw nodes
        const node = svg.selectAll("g")
            .data(nodes)
            .enter()
            .append("g")
            .call(d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended));

        node.append("text")
            .attr("text-anchor", "middle")
            .attr("dy", "0.35em")
            .text(d => d.name)
            .attr("font-size", "14px")
            .attr("fill", "#ffffff")
            .attr("font-weight", d => d.id === "root" ? "bold" : "normal");

        simulation.on("tick", () => {
            link
                .attr("x1", d => {
                    const dx = d.target.x - d.source.x;
                    const dy = d.target.y - d.source.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const shorten = 30;
                    return d.source.x + (dx / dist) * shorten;
                })
                .attr("y1", d => {
                    const dx = d.target.x - d.source.x;
                    const dy = d.target.y - d.source.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const shorten = 30;
                    return d.source.y + (dy / dist) * shorten;
                })
                .attr("x2", d => {
                    const dx = d.target.x - d.source.x;
                    const dy = d.target.y - d.source.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const shorten = 30;
                    return d.target.x - (dx / dist) * shorten;
                })
                .attr("y2", d => {
                    const dx = d.target.x - d.source.x;
                    const dy = d.target.y - d.source.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const shorten = 30;
                    return d.target.y - (dy / dist) * shorten;
                });

            node
                .attr("transform", d => `translate(${d.x},${d.y})`);
        });

        function dragstarted(event, d) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
        }

        function dragged(event, d) {
            d.fx = event.x;
            d.fy = event.y;
        }

        function dragended(event, d) {
            if (!event.active) simulation.alphaTarget(0);
            d.fx = null;
            d.fy = null;
        }
    </script>
    <script src="js/quotes.js"></script>
    <div style="text-align: center; margin: 20px;">
        <button onclick="window.location.href='lens.html'" class="redirect-button">Continue to Special Analysis</button>
    </div>
    <script>
        function toggleAccordion(summary) {
            const content = summary.nextElementSibling;
            if (content.classList.contains('open')) {
                content.style.maxHeight = content.scrollHeight + 'px';
                content.classList.remove('open');
                summary.classList.remove('open');
                setTimeout(() => {
                    content.style.maxHeight = '0';
                }, 10);
            } else {
                content.style.maxHeight = content.scrollHeight + 'px';
                content.classList.add('open');
                summary.classList.add('open');
            }
        }
    </script>
</body>

</html>